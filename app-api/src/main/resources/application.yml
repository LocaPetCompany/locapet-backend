server:
  port: 8080

spring:
  application:
    name: locapet-app-api
  profiles:
    active: ${SPRING_PROFILES_ACTIVE:local}

  datasource:
    driver-class-name: org.postgresql.Driver
    url: ${DB_URL:jdbc:postgresql://localhost:5432/locapet}
    username: ${DB_USERNAME:root}
    password: ${DB_PASSWORD:password}
    hikari:
      connection-init-sql: SET TIME ZONE 'UTC'

  data:
    redis:
      host: ${REDIS_HOST:localhost}
      port: ${REDIS_PORT:6379}

  flyway:
    enabled: true
    baseline-on-migrate: true

  jpa:
    hibernate:
      ddl-auto: validate
    show-sql: false
    properties:
      hibernate:
        format_sql: true
        jdbc:
          time_zone: UTC

  jackson:
    time-zone: UTC
    serialization:
      write-dates-as-timestamps: false

springdoc:
  swagger-ui:
    path: /api-app.html
    groups-order: DESC
    operations-sorter: alpha
    disable-swagger-default-url: true
    display-request-duration: true
  api-docs:
    path: /api-docs
  show-actuator: true
  default-consumes-media-type: application/json
  default-produces-media-type: application/json

app:
  auth:
    jwt:
      secret: ${JWT_SECRET:locapet-jwt-secret-key-must-be-at-least-32-characters-long}
      access-token-expiry: 1800000       # 30분
      refresh-token-expiry: 1209600000   # 14일
      onboarding-token-expiry: 1800000   # 30분
    identity-verification:
      provider: ${IDENTITY_VERIFICATION_PROVIDER:mock}
      ci-hmac-secret: ${CI_HMAC_SECRET:locapet-ci-hmac-secret-key-must-be-at-least-32-characters-long}
      onboarding-session-ttl: 600000     # 10분
    social:
      kakao:
        user-info-url: "https://kapi.kakao.com/v2/user/me"
      naver:
        user-info-url: "https://openapi.naver.com/v1/nid/me"
      google:
        token-info-url: "https://oauth2.googleapis.com/tokeninfo"
        client-id: ${GOOGLE_CLIENT_ID:your-google-client-id}
      apple:
        public-keys-url: "https://appleid.apple.com/auth/keys"
        client-id: ${APPLE_CLIENT_ID:com.vivire.locapet}
  meta:
    store-urls:
      app-store: "https://apps.apple.com/app/locapet/id123456789"
      play-store: "https://play.google.com/store/apps/details?id=com.vivire.locapet"
    base-url:
      api: "https://api.locapet.com"
    policies:
      terms-of-service: "https://locapet.com/terms"
      privacy-policy: "https://locapet.com/privacy"
